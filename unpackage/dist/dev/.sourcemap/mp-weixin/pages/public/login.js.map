{"version":3,"sources":["webpack:////Users/idovear/work/java_dev/workspace/shop-wx/main.js","webpack:////Users/idovear/work/java_dev/workspace/shop-wx/pages/public/login.vue?6404","webpack:////Users/idovear/work/java_dev/workspace/shop-wx/pages/public/login.vue?4cc3","webpack:////Users/idovear/work/java_dev/workspace/shop-wx/pages/public/login.vue?1d56","webpack:////Users/idovear/work/java_dev/workspace/shop-wx/pages/public/login.vue?b6de","webpack:////Users/idovear/work/java_dev/workspace/shop-wx/pages/public/login.vue","webpack:////Users/idovear/work/java_dev/workspace/shop-wx/pages/public/login.vue?0ff8","webpack:////Users/idovear/work/java_dev/workspace/shop-wx/pages/public/login.vue?f8a5"],"names":["createPage","Page","data","mobile","password","logining","wxCode","userInfo","needLogin","needGetMobile","onLoad","that","uni","login","provider","success","loginRes","code","methods","inputChange","e","key","currentTarget","dataset","detail","value","navBack","navigateBack","bindGetUserInfo","res","errMsg","loginRequest","getPhoneNumber","encryptedData","iv","$request","ModelUser","bindmobile","then","result","$api","msg","nickName","avatarUrl","inviteUserId","userInfoVo","id","userId","nickname","portrait","token","setToken"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,6F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;AACc;;;AAGlE;AAC6K;AAC7K,gBAAgB,4KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAu+B,CAAgB,85BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiB1/B,gD;;;;AAIc;AACbC,MADa,kBACP;AACL,WAAO;AACNC,YAAM,EAAE,EADF;AAENC,cAAQ,EAAE,EAFJ;AAGNC,cAAQ,EAAE,KAHJ;;AAKN;AACAC,YAAM,EAAE,IANF;AAONC,cAAQ,EAAC,EAPH;AAQNC,eAAS,EAAC,IARJ;AASNC,mBAAa,EAAC,KATR,EAAP;;AAWA,GAbY;AAcbC,QAda,oBAcL;AACP;AACA,QAAIC,IAAI,GAAG,IAAX;AACAC,OAAG,CAACC,KAAJ,CAAU;AACRC,cAAQ,EAAE,QADF;AAERC,aAAO,EAAE,iBAAUC,QAAV,EAAoB;AAC9BL,YAAI,CAACL,MAAL,GAAcU,QAAQ,CAACC,IAAvB;AACE,OAJO,EAAV;;AAMA,GAvBY;AAwBbC,SAAO;AACH,0BAAa,CAAC,OAAD,EAAS,UAAT,CAAb,CADG;AAENC,eAFM,uBAEMC,CAFN,EAEQ;AACb,UAAMC,GAAG,GAAGD,CAAC,CAACE,aAAF,CAAgBC,OAAhB,CAAwBF,GAApC;AACA,WAAKA,GAAL,IAAYD,CAAC,CAACI,MAAF,CAASC,KAArB;AACA,KALK;AAMNC,WANM,qBAMG;AACRd,SAAG,CAACe,YAAJ;AACA,KARK;AASNC,mBATM,2BASUR,CATV,EASY;AACjB,UAAIS,GAAG,GAAGT,CAAC,CAACI,MAAZ;AACA,UAAGK,GAAG,CAACC,MAAJ,IAAc,gBAAjB,EAAkC;AACjC;AACA;AACD,WAAKC,YAAL,CAAkBX,CAAC,CAACI,MAApB;AACA,KAfK;AAgBNQ,kBAhBM,0BAgBUZ,CAhBV,EAgBa;AAClB,UAAIS,GAAG,GAAGT,CAAC,CAACI,MAAZ;AACA,UAAGK,GAAG,CAACC,MAAJ,IAAc,mBAAjB,EAAqC;AACpC;AACA;AACD,UAAIL,KAAK,GAAG,EAACQ,aAAa,EAAEJ,GAAG,CAACI,aAApB,EAAkCC,EAAE,EAAEL,GAAG,CAACK,EAA1C,EAAZ;AACA,WAAKC,QAAL,CAAcC,SAAd,CAAwBC,UAAxB,CAAmCZ,KAAnC,EAA0Ca,IAA1C,CAA+C,UAAAC,MAAM,EAAI;AACxD,YAAGA,MAAM,CAACtB,IAAP,IAAe,IAAf,IAAuBsB,MAAM,CAACrC,IAAjC,EAAsC;AACrC,cAAIA,IAAI,GAAGqC,MAAM,CAACrC,IAAlB;AACA,cAAGA,IAAI,CAACC,MAAL,IAAe,IAAf,IAAuBD,IAAI,CAACC,MAAL,IAAe,EAAzC,EAA4C;AAC3C,iBAAI,CAACqC,IAAL,CAAUC,GAAV,CAAc,kBAAd;AACA;AACA;AACD,cAAIlC,QAAQ,GAAG,KAAI,CAACA,QAApB;AACAA,kBAAQ,CAAC,QAAD,CAAR,GAAqBL,IAAI,CAACC,MAA1B;AACA,eAAI,CAACU,KAAL,CAAWN,QAAX;AACAK,aAAG,CAACe,YAAJ;AACA,SAVD,MAUK;AACJ,eAAI,CAACa,IAAL,CAAUC,GAAV,CAAcF,MAAM,CAACE,GAArB;AACA,eAAI,CAACpC,QAAL,GAAgB,KAAhB;AACA;AACD,OAfD;AAgBA,KAtCK;AAuCA0B,gBAvCA,8GAuCaF,GAvCb;AAwCDtB,wBAxCC,GAwCUsB,GAAG,CAACtB,QAxCd;AAyCDkB,qBAzCC,GAyCO,EAACR,IAAI,EAAE,KAAKX,MAAZ,EAAmBoC,QAAQ,EAAEnC,QAAQ,CAACmC,QAAtC,EAA+CC,SAAS,EAAEpC,QAAQ,CAACoC,SAAnE,EAA6EC,YAAY,EAAE,KAAKA,YAAhG,EAzCP;AA0Cc,uBAAKT,QAAL,CAAcC,SAAd,CAAwBvB,KAAxB,CAA8BY,KAA9B,CA1Cd,SA0CDc,MA1CC;AA2CL,oBAAGA,MAAM,CAACtB,IAAP,IAAe,IAAf,IAAuBsB,MAAM,CAACrC,IAAjC,EAAsC;AACrC,uBAAKM,SAAL,GAAiB,KAAjB;AACIN,sBAFiC,GAE1BqC,MAAM,CAACrC,IAFmB;AAGjC2C,4BAHiC,GAGpB;AAChBC,sBAAE,EAAE5C,IAAI,CAAC6C,MADO;AAEhB5C,0BAAM,EAAED,IAAI,CAACC,MAFG;AAGhB6C,4BAAQ,EAAEzC,QAAQ,CAACmC,QAHH;AAIhBO,4BAAQ,EAAE1C,QAAQ,CAACoC,SAJH;AAKhBO,yBAAK,EAAEhD,IAAI,CAACgD,KALI,EAHoB;;AAUrC,uBAAK3C,QAAL,GAAgBsC,UAAhB;AACA,uBAAKM,QAAL,CAAcjD,IAAI,CAACgD,KAAnB;AACA,sBAAGhD,IAAI,CAACC,MAAL,IAAeD,IAAI,CAACC,MAAL,IAAe,EAAjC,EAAqC;AACpC,yBAAKU,KAAL,CAAWgC,UAAX;AACAjC,uBAAG,CAACe,YAAJ;AACA,mBAHD,MAGK;AACJ,yBAAKlB,aAAL,GAAqB,IAArB;AACA;AACD,iBAlBD,MAkBK;AACJ,uBAAKD,SAAL,GAAiB,IAAjB;AACA,uBAAKgC,IAAL,CAAUC,GAAV,CAAcF,MAAM,CAACE,GAArB;AACA,uBAAKpC,QAAL,GAAgB,KAAhB;AACA,iBAjEI,mKAxBM,E;;;;;;;;;;;;;ACrBf;AAAA;AAAA;AAAA;AAAqoD,CAAgB,k9CAAG,EAAC,C;;;;;;;;;;;ACAzpD,uC","file":"pages/public/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/public/login.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=758b6ab0&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('758b6ab0', component.options)\n    } else {\n      api.reload('758b6ab0', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=758b6ab0&\", function () {\n      api.rerender('758b6ab0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/idovear/work/java_dev/workspace/shop-wx/pages/public/login.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=758b6ab0&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport {  \n        mapMutations  \n    } from 'vuex';\n\t\n\texport default{\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tmobile: '',\n\t\t\t\tpassword: '',\n\t\t\t\tlogining: false,\n\t\t\t\t\n\t\t\t\t//微信登陆\n\t\t\t\twxCode: null,\n\t\t\t\tuserInfo:{},\n\t\t\t\tneedLogin:true,\n\t\t\t\tneedGetMobile:false,\n\t\t\t}\n\t\t},\n\t\tonLoad(){\n\t\t\t// 获取微信code 并且请求链接\n\t\t\tvar that = this;\n\t\t\tuni.login({\n\t\t\t  provider: 'weixin',\n\t\t\t  success: function (loginRes) {\n\t\t\t\tthat.wxCode = loginRes.code;\n\t\t\t  }\n\t\t\t});\n\t\t},\n\t\tmethods: {\n\t\t\t...mapMutations(['login','setToken']),\n\t\t\tinputChange(e){\n\t\t\t\tconst key = e.currentTarget.dataset.key;\n\t\t\t\tthis[key] = e.detail.value;\n\t\t\t},\n\t\t\tnavBack(){\n\t\t\t\tuni.navigateBack();\n\t\t\t},\n\t\t\tbindGetUserInfo(e){\n\t\t\t\tlet res = e.detail;\n\t\t\t\tif(res.errMsg != 'getUserInfo:ok'){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.loginRequest(e.detail);\n\t\t\t},\n\t\t\tgetPhoneNumber (e) {\n\t\t\t\tlet res = e.detail;\n\t\t\t\tif(res.errMsg != 'getPhoneNumber:ok'){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet value = {encryptedData: res.encryptedData,iv: res.iv};\n\t\t\t\tthis.$request.ModelUser.bindmobile(value).then(result => {\n\t\t\t\t\tif(result.code == 'ok' && result.data){\n\t\t\t\t\t\tlet data = result.data;\n\t\t\t\t\t\tif(data.mobile == null || data.mobile == ''){\n\t\t\t\t\t\t\tthis.$api.msg('获取手机号码异常，请重新授权登陆');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet userInfo = this.userInfo;\n\t\t\t\t\t\tuserInfo['mobile'] = data.mobile;\n\t\t\t\t\t\tthis.login(userInfo);\n\t\t\t\t\t\tuni.navigateBack();  \n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$api.msg(result.msg);\n\t\t\t\t\t\tthis.logining = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tasync loginRequest(res){\n\t\t\t\tlet userInfo = res.userInfo\n\t\t\t\tlet value = {code: this.wxCode,nickName: userInfo.nickName,avatarUrl: userInfo.avatarUrl,inviteUserId: this.inviteUserId};\n\t\t\t\tlet result = await this.$request.ModelUser.login(value);\n\t\t\t\tif(result.code == 'ok' && result.data){\n\t\t\t\t\tthis.needLogin = false;\n\t\t\t\t\tlet data = result.data;\n\t\t\t\t\tlet userInfoVo = {\n\t\t\t\t\t\tid: data.userId,\n\t\t\t\t\t\tmobile: data.mobile,\n\t\t\t\t\t\tnickname: userInfo.nickName,\n\t\t\t\t\t\tportrait: userInfo.avatarUrl,\n\t\t\t\t\t\ttoken: data.token\n\t\t\t\t\t};\n\t\t\t\t\tthis.userInfo = userInfoVo;\n\t\t\t\t\tthis.setToken(data.token);\n\t\t\t\t\tif(data.mobile && data.mobile != '' ){\n\t\t\t\t\t\tthis.login(userInfoVo);\n\t\t\t\t\t\tuni.navigateBack();  \n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.needGetMobile = true;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.needLogin = true;\n\t\t\t\t\tthis.$api.msg(result.msg);\n\t\t\t\t\tthis.logining = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t}\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}